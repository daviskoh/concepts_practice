# Exporting in Node.js

## Overview
This file shows the differences between various ways to export functions in Node.js using the **module** object & the **exports** variable.

## Dependencies
	Node.js
	Jasmine-node (or any JS testing framework) for tests
**Note**: if using Mocha, you may have to rename the **spec** directory to **test**

## Files & Directories
Functions are written in **modules.js** under the **lib** directory. Specs are provided in the **module_spec.js** under the **spec** to prove concepts.

## Directions
A separate **spec** / **lib** is provided for module.exports & exports.functionName

Run

	jasmine-node spec/.

to see all tests pass or run

	jasmine-node spec/specific.js

to see a specific one pass

## module.exports
**module** is a global scope variable inside a file

	module.exports = function module1() {
	  return 'module.exports';
	}
	
	var module1 = require('../lib/module1');
	
**1.)** When the above is written, a **Module** object is created: 
	
	function Module(id, parent) {
    	this.id = id;
    	this.exports = {};
	    this.parent = parent;
    	if (parent && parent.children) {
        	parent.children.push(this);
	    }

    	this.filename = null;
	    this.loaded = false;
    	this.children = [];
	}

With a new **exports** object {} as a property of the created **Module**

**2.)** When required, the contents of **module1.js** are wrapped like so:

	(function (exports, require, module, __filename, __dirname) { 
		// from module1.js
		module.exports = function module1() { return 'module.exports'; }
	});

**3.)** Then called like so:

	(function (exports, require, module, __filename, __dirname) { 
    	//contents from module1.js
		module.exports = function module1() { return 'module.exports'; }
	})(module.exports,require, module, "module1.js","directory of the module1.js");

With **module** referring to the **Module** object created above

Thus, the **exports** variable in the file scope of the module you are writting, refers to the exports **attribute** of the created **module object**

## exports.functionName

Thus, when defining attributes on the **exports** variable, you are defining attributes on the exports **attribute** ( which is an object {} ) of the created module object.